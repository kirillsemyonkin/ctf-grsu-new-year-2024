# OCR

> Все что вам надо - считать слово с картинки. И так где-то 250 раз ...

---

> All you need to do is count the word from the picture. And so about 250 times...

## Примеры / Examples

```plain
Все что тебе надо - считать слово с картинки. И так много раз  ...
Время на ответ - не больше 5 секунд ...

Раунд 1/41
b'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'

passion&patch&patient
Правильно: passion&patch&patient
Раунд 2/41
b'iVBORw0KGgoAAAANSUhEUgAAAZAAAAAyCAIAAAD9fhrKAAAIhklEQVR4nO3bXUhT/x8H8M+ZM3WU+DiXz2vdNEnTktRMxadf2oXWlqaSmpBZFnZhEmRBSN4UUQhdiUQl1TQqjIqyohDF59TGmmHmQzqdtmnqdE7P/+LwH8PN3P+389868XldeZ6+5/2RnY9n33MkSJIEhBBiApatAyCEkLmwYSGEGAMbFkKIMbBhIYQYAxsWQogxsGEhhBgDGxZCiDGwYSGEGAMbFkKIMbBhIYQYAxsWQogxsGEhhBgDGxZCiDGwYSGEGAMbFkKIMbBhIYQYAxsWQogxsGEhhBgDGxZCiDGwYSGEGAMbFkKIMbBhIYQYAxsWQogxaGhYT548EQqFjo6OAQEBcrlcLBYTBKFQKCwfGQAOHDhAEMTi4qLhyvn5+bNnz3p5ebm4uKSkpHz9+tW2qUyG/A1z8q8pgd78CDEU28Ljp6amsrOzqWt1eHiYy+XSkWoD+fn59fX11M+vXr2Ki4uTSqUuLi62TWW+DfODUQnh4eHWz4nQn8bSOyyZTLa4uJiSkjIzMzM/P+/q6lpfX0+SJI/HoyWfyTPW19fz+XypVDo5OZmYmDg2NlZXV2fbVOYzJz8YlfDn5EfIhixtWEtLSwAQGRnp7OzM4XDoiLSB/v5+AMjKyhIKhZ6eniUlJQAwNjZm21TmMyc//NklIGQrFjWsXbt2JSUlAcDly5cJgigvLwcAw9mW9PR0Ho8nl8tFIpGbm5uTk1NUVNTLly8NB2lubhaLxd7e3ps2bXJ2dt63b9+jR49+c9KgoCAA+PDhA7Uok8kAIDIy0rapKBUVFQRBVFdXG64cHR1lsVjZ2dlm5jdZwpo5LMtLMGcElUpVWloqEAgcHR35fP6VK1d0Op1+68zMTFlZ2bZt2xwcHHx9fYuLi5VK5Ya/IoQsQlogJCTEcKiLFy+SJCkSiQBgfHycJMm0tDQOh+Pm5ma4G4vF6uzspEZ4/vy5nZ2dcaq3b99SO/zzzz8AoNFoDM979OhRAKisrLx3756Dg0N6erptU+kXh4aGCIKIi4szzHPjxg0AaGhoMDO/yRIM89NSwoYjKJVKgUCw5vDCwkJqq0qlEgqFa7by+XyFQmHOJwehf8eihkWS5Js3bwCgoqJCv2ZNawAANze32tpatVr9/fv31NRUADh16hS1c1hYGIfDefz4sVqt1mq13759O3HiBAAcO3aM2sFkw5qennZ1daUukpMnTy4uLto2leFifHw8i8UaGRnRnzoyMtLd3V2r1Zqf37gE44ZlYQkbjkDtHx4e3tzcPDc319LSQvWv9vZ2kiQLCwsBIDs7+/PnzxqNZmBggPpum5WVZeJTghBNrNGwqqur9VupGZzk5OT1BpyYmACA1NRUatG4YfX19UVERAAAQRD29vbNzc02T2W4ePfuXQC4du0atWlkZIQgiKKiov8pv3EJJhuWJSX8foTl5WUXF5ctW7boz0iSZGNjIwBcunRpaWmJw+GEhISsrq4aniIpKYnNZv/69Wu9DAhZyNLXGswRGxur/9nPzw8AtFqt4Q5fvnzp6+sbGBiQSqVNTU0AsLKyYnKozs7OhIQENptdV1en0Whyc3PFYnFXV5e7u3tJSUl0dHRWVpb1UxkSiUTFxcW1tbWlpaUAUFdXR5KkfgKLxvy0lLDeCMPDw2q1Ojk52fC5ZEJCAkmSANDT07OwsNDT08NimZgDlUqle/fuNb8KhMxnjYZl+IYRm80GAOpzDwAymaywsJC6lsxRVFS0sLDQ3t5OzfJ0dXXdvHkzIyPjwoULt2/f/vnzp/kXPI2pDHE4nCNHjtTU1Mhksh07dkgkEn9//+joaNrz01LCeiOoVCoA2Lp1q8mj1Gr1b8akjkXo/8EaDWs9Op3u4MGDg4ODoaGhMTExAoFAIBD4+fkFBweb3F+tVnd0dISFhennpK9fv97b2/vu3bvu7m4AOH78uPVTGcvPz6+pqZFIJAUFBa2trWVlZQRBWC0/LSVs3rwZANZ7sZ7ampmZ+fDhQ1oCI2QmWzas9vb2wcHBxMTE169fU5c0ADx48AAADB+f61Er+/v7lUqlp6cnANjZ2Ukkkt27dw8NDQUHBycnJ1s/lbH9+/dv37792bNnDg4Oht8HrZOflhIEAgGHw2lpaZmamvLw8KBWjo+P+/n5icXimpoae3v7xsZGfSEIWYct//mZ+kPd39/f0dGh1WpHR0evXr1aUFAAABqNxnh/Dw+PiIiIubm5tLS0T58+LS0tyeXyqqqqyclJAOjt7a2qqrJ+KpNyc3O7u7tv3boVFBSkv6+xTn5aSmCz2ZmZmbOzs4cOHers7NRoND09PRkZGSsrKyKRiPraOz09nZKS8vHjx4WFBZVKJZFIuFyuq6vr7OwsLVUgZIKFk/bmPI9TKpX6rcvLywAQGxtLkqROp9uzZ4/JVDwej9p/zfO43t5e/QsBet7e3vfv36duBMrLy62fyvhRJvVCFgBUVlYa/rrMzG9cgsmnhJaU8PsRSJKcmJgIDAxcc7j+lTGFQsHn89dsZbFYd+7cMfk5QYgWtrzDsrOza2hoyMvL8/HxcXR0FAgEhw8ffvHiRXx8vEKhkMvlxofs3Lmzra0tJyeHy+Vu2rRJIBCcP3++r68vJyenqakpKiqKug6tnMqYv7+/UCgkCGLNJLoV8tNVApfLbW1tPX36tI+PD5vNDggIKC8v109aeXl5tbW1nTt3LjAw0N7ensfjpaamNjY25uXlWZ4fofUQ5H+fKyEajYyMBAYGxsTEvH//3tZZEPp72HLS/a80PT2t0+lKSkpWV1fPnDlj6zgI/VXwDotmvr6+P378AIDQ0NCOjg6Tr1YihP4dvJxoFhUV5eTkFBcX9/TpU+xWCNEL77AQQoyBtwAIIcbAhoUQYgxsWAghxsCGhRBiDGxYCCHGwIaFEGKM/wDCRKXI45/3eAAAAABJRU5ErkJggg=='


```

## Решение / Solution

> [!NOTE]
> Во время решения задача представляла из себя сообщения в виде `abc_&_def_&_ghi`, но при написании
> данного write-up'а формат изменился на `abc&def&ghi`. Такая близость символов может немного мешать
> Tesseract считывать слова, но задача все равно решается.

Гадкая задача. Не в плане, что я злюсь на авторов (я то как раз считаю, что они молодцы, что сделали
ее такой), а в том, что OCR - не самая поддающаяся стихия.

Решение представляет из себя чтение картинки, приведение ее к такому размеру, чтобы OCR не посчитал
текст за шумы в изображении, простой запуск команды `tesseract` в режиме одной строки из заданных
символов, и миллионные попытки после неуспешных запусков исправить книжные слова, которые Tesseract
не хочет считывать неверно.

---

> [!NOTE]
> During the solution of the task, the message was presented as `abc_&_def_&_ghi`, but the format
> changed to `abc&def&ghi` while typing out this write-up. The small distance between the characters
> may slightly affect Tesseract's reading ability, but the task is still solvable.

Nasty task. Not that I am angry at the authors (I actually believe they did well that they made it
as it is presented), but in the way that OCR is not the most controllable creature.

The solution consists of reading an image, changing it to a certain size so that OCR does not think
that the text is noise, and simply running the `tesseract` command in single line mode with a
given character set, and thousands of attempts to fix the dictionary words that Tesseract craves to
scan out incorrectly.

### Флаг / Flag

```plain
grodno{325290PIL_&_Base64_&_Tesseract4f388c}
```

### Rust

```rust
use std::process::Command;

fn main() {
    let sock = TcpStream::connect("...").unwrap();
    let mut reader = BufReader::new(&sock);
    let mut writer = BufWriter::new(&sock);

    let mut buf = String::new();

    for _ in 0..1 {
        read_line(&mut reader, &mut buf);
    }
    for _ in 0..=300 {
        for _ in 0..3 {
            read_line(&mut reader, &mut buf);
        }

        // read data
        let base64 = read_line(&mut reader, &mut buf);
        let image_data = base64::engine::general_purpose::STANDARD
            .decode(&base64[2..base64.len() - 1])
            .unwrap();
        std::fs::write("tmp.png", image_data).unwrap();

        // ocr
        let img = image::open("tmp.png").unwrap();
        let img = img.resize(
            img.width() * 3,
            img.height() * 3,
            image::imageops::FilterType::Nearest,
        );
        img.save("tmp.png").unwrap();
        let res = String::from_utf8(
            Command::new("tesseract")
                .args([
                    "tmp.png",
                    "-",
                    "-l",
                    "eng",
                    "--psm",
                    "7",
                    "-c",
                    "tessedit_char_whitelist=abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-& {}"
                ])
                .output()
                .unwrap()
                .stdout,
        )
        .unwrap()
        .replace(".", "")
        // .replace(" ", "_")
        // .replace("__", "_")
        // .replace("__", "_")
        // .replace("__", "_")
        .replace("_", "")
        .replace(" ", "")
        .replace("comer", "corner")
        .replace("cormer", "corner")
        .replace("worred", "worried")
        .replace("siver", "silver")
        .replace("successtul", "successful")
        .replace("Stare", "stare")
        .replace("Stable", "stable")
        .replace("Stability", "stability")
        .replace("materal", "material")
        .replace("setile", "settle")
        .replace("lsraeli", "Israeli")
        .replace("chidhood", "childhood")
        .replace("lear", "learn")
        .replace("clearn", "clear")
        .replace("learnn", "learn")
        .replace("cunous", "curious")
        .replace("frend", "friend")
        .replace("inital", "initial")
        .replace("learnming", "learning")
        .replace("terrorst", "terrorist")
        .replace("mosthy", "mostly")
        .replace("piot", "pilot")
        .replace("affar", "affair")
        .replace("satisty", "satisfy")
        .replace("salisty", "satisfy")
        .replace("salistaction", "satisfaction")
        .replace("barier", "barrier")
        .replace("barner", "barrier")
        .replace("traffiic", "traffic")
        .replace("eamings", "earnings")
        .replace("extemal", "external")
        .replace("reliet", "relief")
        .replace("sory", "sorry")
        .replace("cigaretie", "cigarette")
        .replace("wondertul", "wonderful")
        .replace("quaraniee", "guarantee")
        .replace("quarantee", "guarantee")
        .replace("arque", "argue")
        .replace("guard_&_guess_&_quest", "guard_&_guess_&_guest")
        .replace(
            "identification_&_identity_&_identity",
            "identification_&_identify_&_identity",
        )
        .replace(
            "vulnerable_&_wander_&_warming",
            "vulnerable_&_wander_&_warning",
        )
        .replace("pursue_&_quality_&_quality", "pursue_&_qualify_&_quality")
        .replace("tired_&_tissue_&_tile", "tired_&_tissue_&_title")
        .replace("tile_&_tobacco_&_today", "title_&_tobacco_&_today")
        .replace("genitly", "gently")
        .replace("vanation", "variation")
        .replace("fiftteen", "fifteen")
        .replace("fith", "fifth")
        .replace("herselt", "herself")
        .replace("himselt", "himself")
        .replace("myselt", "myself")
        .replace("reguiar", "regular")
        .replace("narow", "narrow")
        .replace("boytriend", "boyfriend")
        .replace("helptul", "helpful")
        .replace("letier", "letter")
        .replace("suiface", "surface")
        .replace("ltalian", "Italian")
        .replace("morming", "morning")
        .replace("vanable", "variable")
        .replace("varety", "variety")
        .replace("bret", "brief")
        .replace("dratt", "draft")
        .replace("brefly", "briefly")
        .replace("philasophy", "philosophy")
        .replace("westem", "western")
        .replace("concem", "concern")
        .replace("concerm", "concern")
        .replace("modem", "modern")
        .replace("armangement", "arrangement")
        .replace("coleague", "colleague")
        .replace("betier", "better")
        .replace("attomey", "attorney")
        .replace("prest", "priest")
        .replace("marnry", "marry")
        .replace("marned", "married")
        .replace("mariage", "marriage")
        .replace("marrage", "marriage")
        .replace("marnage", "marriage")
        .replace("differenthy", "differently")
        .replace("concemed", "concerned")
        .replace("powertul", "powerful")
        .replace("househald", "household")
        .replace("qguilty", "guilty")
        .replace("testity", "testify")
        .replace("tve", "tive");

        writeln!(writer, "{}", res.trim()).unwrap();
        writer.flush().unwrap();
        println!("{}", res.trim());
    }
}
```

### Python

```python
import os
import base64
from PIL import Image

sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
sock.connect(("ctf.mf.grsu.by", 9007))
reader = sock.makefile("r", encoding="utf-8")
writer = sock.makefile("w", encoding="utf-8")

for _ in range(1):
        read_line(reader)
for _ in range(300 + 1):
    for _ in range(3):
        read_line(reader)
    
    # read data
    text = read_line(reader)
    image_data = base64.b64decode(text[2:-1])
    with open("tmp.png", "wb") as f:
        f.write(image_data)

    # ocr
    img = Image.open("tmp.png")
    img = img.resize((img.width * 3, img.height * 3), Image.NEAREST)
    img.save("tmp.png")
    res = os.popen("tesseract tmp.png - -l eng --psm 7 -c tessedit_char_whitelist=\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-& {}\"")
    res = res.read().strip()
    res = res.replace(".", "")
    # res = res.replace(" ", "_")
    # res = res.replace("__", "_")
    # res = res.replace("__", "_")
    # res = res.replace("__", "_")
    res = res.replace("_", "")
    res = res.replace(" ", "")
    res = res.replace("comer", "corner")
    res = res.replace("cormer", "corner")
    res = res.replace("worred", "worried")
    res = res.replace("siver", "silver")
    res = res.replace("successtul", "successful")
    res = res.replace("Stare", "stare")
    res = res.replace("Stable", "stable")
    res = res.replace("Stability", "stability")
    res = res.replace("materal", "material")
    res = res.replace("setile", "settle")
    res = res.replace("lsraeli", "Israeli")
    res = res.replace("chidhood", "childhood")
    res = res.replace("lear", "learn")
    res = res.replace("clearn", "clear")
    res = res.replace("learnn", "learn")
    res = res.replace("cunous", "curious")
    res = res.replace("frend", "friend")
    res = res.replace("inital", "initial")
    res = res.replace("learnming", "learning")
    res = res.replace("terrorst", "terrorist")
    res = res.replace("mosthy", "mostly")
    res = res.replace("piot", "pilot")
    res = res.replace("affar", "affair")
    res = res.replace("satisty", "satisfy")
    res = res.replace("salisty", "satisfy")
    res = res.replace("salistaction", "satisfaction")
    res = res.replace("barier", "barrier")
    res = res.replace("barner", "barrier")
    res = res.replace("traffiic", "traffic")
    res = res.replace("eamings", "earnings")
    res = res.replace("extemal", "external")
    res = res.replace("reliet", "relief")
    res = res.replace("sory", "sorry")
    res = res.replace("cigaretie", "cigarette")
    res = res.replace("wondertul", "wonderful")
    res = res.replace("quaraniee", "guarantee")
    res = res.replace("quarantee", "guarantee")
    res = res.replace("arque", "argue")
    res = res.replace("guard_&_guess_&_quest", "guard_&_guess_&_guest")
    res = res.replace(
        "identification_&_identity_&_identity",
        "identification_&_identify_&_identity",
    )
    res = res.replace(
        "vulnerable_&_wander_&_warming",
        "vulnerable_&_wander_&_warning",
    )
    res = res.replace("pursue_&_quality_&_quality", "pursue_&_qualify_&_quality")
    res = res.replace("tired_&_tissue_&_tile", "tired_&_tissue_&_title")
    res = res.replace("tile_&_tobacco_&_today", "title_&_tobacco_&_today")
    res = res.replace("genitly", "gently")
    res = res.replace("vanation", "variation")
    res = res.replace("fiftteen", "fifteen")
    res = res.replace("fith", "fifth")
    res = res.replace("herselt", "herself")
    res = res.replace("himselt", "himself")
    res = res.replace("myselt", "myself")
    res = res.replace("reguiar", "regular")
    res = res.replace("narow", "narrow")
    res = res.replace("boytriend", "boyfriend")
    res = res.replace("helptul", "helpful")
    res = res.replace("letier", "letter")
    res = res.replace("suiface", "surface")
    res = res.replace("ltalian", "Italian")
    res = res.replace("morming", "morning")
    res = res.replace("vanable", "variable")
    res = res.replace("varety", "variety")
    res = res.replace("bret", "brief")
    res = res.replace("dratt", "draft")
    res = res.replace("brefly", "briefly")
    res = res.replace("philasophy", "philosophy")
    res = res.replace("westem", "western")
    res = res.replace("concem", "concern")
    res = res.replace("concerm", "concern")
    res = res.replace("modem", "modern")
    res = res.replace("armangement", "arrangement")
    res = res.replace("coleague", "colleague")
    res = res.replace("betier", "better")
    res = res.replace("attomey", "attorney")
    res = res.replace("prest", "priest")
    res = res.replace("marnry", "marry")
    res = res.replace("marned", "married")
    res = res.replace("mariage", "marriage")
    res = res.replace("marrage", "marriage")
    res = res.replace("marnage", "marriage")
    res = res.replace("differenthy", "differently")
    res = res.replace("concemed", "concerned")
    res = res.replace("powertul", "powerful")
    res = res.replace("househald", "household")
    res = res.replace("qguilty", "guilty")
    res = res.replace("testity", "testify")
    res = res.replace("tve", "tive")
    writer.write(f"{res}\n")
    writer.flush()
    print(res)
```
